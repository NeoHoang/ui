!function(e){"use strict";function t(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.head.appendChild(t)}function a(){var e=document.createElement("div"),t=document.createElement("select"),a=document.createElement("option"),n=document.createTextNode(i);return a.setAttribute("disabled",""),a.setAttribute("selected",""),a.appendChild(n),t.className="js--mz-citysearch-select2",t.appendChild(a),e.id="mz-citysearch",e.className="mz-citysearch",e.appendChild(t),document.body.appendChild(e),e}function n(){var e=document.createElement("style"),t=".leaflet-top.leaflet-left { top: 42px; }";e.type="text/css",e.appendChild(document.createTextNode(t)),document.head.appendChild(e)}if(window.self!==window.top)return!1;var c,o="//s3.amazonaws.com/assets-staging.mapzen.com/ui/components/citysearch/citysearch.min.css",s="//s3.amazonaws.com/assets-staging.mapzen.com/ui/components/citysearch/cities.json",i="Search";t(o),a(),n(),e.get(s,function(t){c=t.map(function(e){return{name:e.n,lat:e.l.split("/")[0],lng:e.l.split("/")[1],zoom:e.z}}),e(document).ready(function(){var t=e(".js--mz-citysearch-select2");c.forEach(function(e){t.append('<option value="'+e.name+'" data-lat="'+e.lat+'" data-lng="'+e.lng+'" data-zoom="'+e.zoom+'">'+e.name+"</option>")}),t.select2({placeholder:"Search"}),t.on("select2:open",function(t){e(".select2-search__field").on("keydown",function(e){e.stopPropagation()})}),t.on("select2:select",function(e){var t=e.params.data.element,a=t.dataset.lat,n=t.dataset.lng,c="undefined"===t.dataset.zoom?null:t.dataset.zoom;c?map.setView([a,n],c):map.setView([a,n])})})})}(jQuery);