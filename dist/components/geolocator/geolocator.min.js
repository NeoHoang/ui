var MapzenGeolocator=function(){"use strict";function e(e){var t=document.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("type","text/css"),t.setAttribute("href",e),document.head.appendChild(t)}function t(){var e=document.createElement("div"),t=document.createElement("div"),o=document.createElement("span");return o.className="mz-geolocator-icon",t.className="mz-geolocator-button",t.setAttribute("title",r),t.appendChild(o),e.id="mz-geolocator",e.className="mz-geolocator",e.appendChild(t),document.body.appendChild(e),e}var o,n,a="https:"===window.location.protocol?"https:":"http:",c=a+"//s3.amazonaws.com/assets-staging.mapzen.com/ui/components/geolocator/geolocator.min.css",r="Get current location";if(window.self!==window.top)return!1;t(),e(c);var i=function(e,t){},l=function(e,t){var o=window.navigator.geolocation,n={enableHighAccuracy:!0,maximumAge:1e4};o?window.setTimeout(function(){o.getCurrentPosition(e,t,n)},0):(document.getElementById("mz-geolocator").style.display="none",console.log("Browser does not support geolocation"))},s=function(e){o=e.coords.latitude,n=e.coords.longitude,map.setView([o,n],17),d()},m=function(e){console.log(e),alert("Unable to retrieve current position. Geolocation may be disabled on this browser or unavailable on this system."),d()},d=function(){var e=document.getElementById("mz-geolocator").querySelector(".mz-geolocator-icon");e.classList.remove("mz-geolocator-active")};return document.getElementById("mz-geolocator").querySelector(".mz-geolocator-icon").addEventListener("click",function(e){return e.target.classList.contains("mz-geolocator-active")?!1:(e.target.classList.add("mz-geolocator-active"),void l(s,m))}),i}();